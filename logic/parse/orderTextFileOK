const isAPowerOrAnOrder = require('./isAPowerOrAnOrder');
const firstRowIsAPower = require('../parse/firstRowIsAPower');
const fs = require('fs');

const ordersFile = "orders.txt";
const text = fs.readFileSync(ordersFile, 'utf-8');

module.exports = function(powers){
    var lines = text.split("\n");
    var firstLine = "";
    for (var i = 0; i < lines.length; i++){
        if(lines[i] !== "" && firstLine ===""){
            firstLine = lines[i];
        }
    }

    var pass = firstRowIsAPower(powers, [firstLine]);


    for (var i = 0; i < lines.length; i++){
        var line = lines[i];
        if(!isAPowerOrAnOrder(line) &&
            line !== ""){
            pass = false
        }

    }
    return pass;
}